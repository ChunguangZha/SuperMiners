<Window x:Class="SuperMinersCustomServiceSystem.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="矿工管理员系统" Height="600" Width="800"
        Loaded="Window_Loaded"
        Closed="Window_Closed">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Assets/Style.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="43*"/>
            <ColumnDefinition Width="89*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <GroupBox Header="状态信息" Grid.ColumnSpan="2">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBlock Text="注册玩家" Margin="5" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                <TextBox Grid.Column="1" Width="100" Margin="5" VerticalAlignment="Center"/>
                <TextBlock Grid.Column="2" Text="在线玩家" Margin="5" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                <TextBox Grid.Column="3" Width="100" Margin="5" VerticalAlignment="Center"/>
            </Grid>
        </GroupBox>
        <TreeView Grid.Row="1">
            <TreeViewItem Name="tvL1PlayerManager" Header="玩家管理" Style="{StaticResource TVItemL1Style}">
                
            </TreeViewItem>
            <TreeViewItem Name="tvL1TradeSystem" Header="交易系统" Style="{StaticResource TVItemL1Style}">
            </TreeViewItem>
            <TreeViewItem Name="tvL1FunnySystem" Header="娱乐系统" Style="{StaticResource TVItemL1Style}">
                <TreeViewItem Header="幸运大转盘">
                    
                </TreeViewItem>
            </TreeViewItem>
        </TreeView>
        <TabControl Grid.Row="1" Grid.Column="1">
            <TabItem Header="玩家管理">
                <Grid Background="#FFE5E5E5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="用户名：" HorizontalAlignment="Right" Margin="5"/>
                        <TextBox Grid.Column="1" Name="txtUserName" Margin="5" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="2" Text="支付宝账户：" HorizontalAlignment="Right" Margin="5"/>
                        <TextBox Grid.Column="3" Name="txtAlipayAccount" Margin="5" VerticalAlignment="Center"/>
                        <TextBlock Grid.Row="1" Text="推荐人：" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="5"/>
                        <TextBox Grid.Row="1" Grid.Column="1" Name="txtReferrerUserName" VerticalAlignment="Center" Margin="5"/>
                        <TextBlock Grid.Row="1" Grid.Column="2" Text="锁定状态：" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="5"/>
                        <ComboBox Grid.Row="1" Grid.Column="3" Name="cmbLocked" Width="100" Margin="5" SelectedIndex="0" HorizontalAlignment="Left" HorizontalContentAlignment="Center">
                            <ComboBoxItem Content="全部"/>
                            <ComboBoxItem Content="已锁定"/>
                            <ComboBoxItem Content="未锁定"/>
                        </ComboBox>
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="在线状态：" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="5"/>
                        <ComboBox Grid.Row="2" Grid.Column="1" Name="cmbOnline" Width="100" Margin="5" HorizontalAlignment="Left" SelectedIndex="0" HorizontalContentAlignment="Center">
                            <ComboBoxItem Content="全部"/>
                            <ComboBoxItem Content="在线"/>
                            <ComboBoxItem Content="离线"/>
                        </ComboBox>

                        <Button Grid.Row="2" Grid.Column="3" Name="btnRefresh" Content="刷新" Width="100" Margin="5" HorizontalAlignment="Left" Click="btnRefresh_Click"/>
                        <Button Grid.Row="2" Grid.Column="3" Name="btnSearch" Content="查找" Width="100" Margin="5" HorizontalAlignment="Right" Click="btnSearch_Click"/>
                    </Grid>
                    <GroupBox Grid.Row="1" Name="panelPlayersManager" Margin="5">
                        <GroupBox.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="玩家列表" Margin="5"/>
                                <TextBlock Text="共" Margin="20,5,5,5"/>
                                <TextBlock Name="txtCount" Text="{Binding PlayersCount}" Margin="5"/>
                                <TextBlock Text="人" Margin="5"/>
                            </StackPanel>
                        </GroupBox.Header>
                        <DataGrid Name="datagridPlayerInfos" ItemsSource="{Binding ListFilteredPlayers}" SelectionMode="Single" AutoGenerateColumns="False" FrozenColumnCount="2" IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTextColumn Binding="{Binding UserName}" ClipboardContentBinding="{x:Null}" Header="用户名"/>
                                <DataGridTextColumn Binding="{Binding NickName}" ClipboardContentBinding="{x:Null}" Header="昵称"/>
                                <DataGridTextColumn Binding="{Binding Alipay}" ClipboardContentBinding="{x:Null}" Header="支付宝账户"/>
                                <DataGridTextColumn Binding="{Binding AlipayRealName}" ClipboardContentBinding="{x:Null}" Header="支付宝真实姓名"/>
                                <DataGridTextColumn Binding="{Binding RegisterTime}" ClipboardContentBinding="{x:Null}" Header="注册时间"/>
                                <DataGridTextColumn Binding="{Binding RegisterIP}" ClipboardContentBinding="{x:Null}" Header="注册IP"/>
                                <DataGridTextColumn Binding="{Binding ReferrerUserName}" ClipboardContentBinding="{x:Null}" Header="推荐人"/>
                                <DataGridTextColumn Binding="{Binding InvitationCode}" ClipboardContentBinding="{x:Null}" Header="邀请码"/>
                                <DataGridTextColumn Binding="{Binding LastLoginTime}" ClipboardContentBinding="{x:Null}" Header="上一级登录时间"/>
                                <DataGridTextColumn Binding="{Binding IsLocked}" ClipboardContentBinding="{x:Null}" Header="是否被锁定"/>
                                <DataGridTextColumn Binding="{Binding LockedTime}" ClipboardContentBinding="{x:Null}" Header="锁定时间"/>
                                <DataGridTextColumn Binding="{Binding Online}" ClipboardContentBinding="{x:Null}" Header="是否在线"/>
                                <DataGridTextColumn Binding="{Binding LoginIP}" ClipboardContentBinding="{x:Null}" Header="当前登录IP"/>
                                <DataGridTextColumn Binding="{Binding Exp}" ClipboardContentBinding="{x:Null}" Header="贡献值"/>
                                <DataGridTextColumn Binding="{Binding RMB}" ClipboardContentBinding="{x:Null}" Header="灵币"/>
                                <DataGridTextColumn Binding="{Binding GoldCoin}" ClipboardContentBinding="{x:Null}" Header="金币"/>
                                <DataGridTextColumn Binding="{Binding StonesReserves}" ClipboardContentBinding="{x:Null}" Header="矿石储量"/>
                                <DataGridTextColumn Binding="{Binding TotalProducedStonesCount}" ClipboardContentBinding="{x:Null}" Header="累计总产出"/>
                                <DataGridTextColumn Binding="{Binding StockOfStones}" ClipboardContentBinding="{x:Null}" Header="矿石量"/>
                                <DataGridTextColumn Binding="{Binding MinersCount}" ClipboardContentBinding="{x:Null}" Header="矿工数"/>
                                <DataGridTextColumn Binding="{Binding StockOfDiamonds}" ClipboardContentBinding="{x:Null}" Header="钻石量"/>
                            </DataGrid.Columns>
                            <DataGrid.ContextMenu>
                                <ContextMenu Name="cmenuDataGridPlayer" StaysOpen="True">
                                    <MenuItem Header="查看矿山购买记录" Click="PlayerListContextMenu_ViewBuyMineRecordItem_Click"></MenuItem>
                                    <MenuItem Header="查看金币充值记录" Click="PlayerListContextMenu_ViewRechargeGoldCoinRecordItem_Click"></MenuItem>
                                    <MenuItem Header="查看矿工购买记录" Click="PlayerListContextMenu_ViewBuyMinerRecordItem_Click"></MenuItem>
                                    <MenuItem Header="查看矿石出售记录" Click="PlayerListContextMenu_ViewSellStoneRecordItem_Click"></MenuItem>
                                    <MenuItem Header="查看矿石锁定记录" Click="PlayerListContextMenu_ViewLockStoneRecordItem_Click"></MenuItem>
                                    <MenuItem Header="查看矿石购买记录" Click="PlayerListContextMenu_ViewBuyStoneRecordItem_Click"></MenuItem>
                                    <MenuItem Header="查看支付宝支付记录" Click="PlayerListContextMenu_ViewAlipayPayRecordItem_Click"></MenuItem>
                                </ContextMenu>
                            </DataGrid.ContextMenu>
                        </DataGrid>
                    </GroupBox>
                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Button Name="btnEditPlayerInfo" Grid.ColumnSpan="4" HorizontalAlignment="Right" Content="修改玩家信息" Width="100" Margin="10" Click="btnEditPlayerInfo_Click"/>
                        <Button Name="btnDeletePlayer" Grid.ColumnSpan="4" HorizontalAlignment="Right" Content="删除玩家" Width="100" Margin="10,10,130,10" Click="btnDeletePlayer_Click"/>
                    </Grid>
                </Grid>
            </TabItem>
            <TabItem Header="交易系统">
                <TabControl>
                    <TabItem Header="矿工买入交易">
                        <Grid Background="#FFE5E5E5"/>
                    </TabItem>
                    <TabItem Header="矿山买入交易">
                        <Grid Background="#FFE5E5E5"/>
                    </TabItem>
                    <TabItem Header="金币充值交易">
                        <Grid Background="#FFE5E5E5"/>
                    </TabItem>
                    <TabItem Header="矿石买入交易">
                        <Grid Background="#FFE5E5E5"/>
                    </TabItem>
                    <TabItem Header="矿石卖出交易">
                        <Grid Background="#FFE5E5E5"/>
                    </TabItem>
                    <TabItem Header="灵币提现交易">
                        <Grid Background="#FFE5E5E5">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="15*"/>
                                <RowDefinition Height="16*"/>
                                <RowDefinition Height="202*"/>
                            </Grid.RowDefinitions>
                        </Grid>
                    </TabItem>
                    <TabItem Header="支付宝充值记录">
                        <Grid Background="#FFE5E5E5"/>
                    </TabItem>
                </TabControl>
            </TabItem>
            <TabItem Header="客服系统">
                <Grid Background="#FFE5E5E5"/>
            </TabItem>
            <TabItem Header="新闻公告">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="174*"/>
                        <RowDefinition Height="24*"/>
                    </Grid.RowDefinitions>
                    <DataGrid x:Name="datagridNotices" IsReadOnly="True" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserResizeColumns="False" CanUserSortColumns="False" HeadersVisibility="Column" SelectionMode="Single" CanUserResizeRows="False" HorizontalScrollBarVisibility="Disabled" EnableRowVirtualization="False" AlternatingRowBackground="#FFE4E2E2" FontSize="14" RowDetailsVisibilityMode="Collapsed">
                        <DataGrid.Columns>
                            <DataGridTemplateColumn ClipboardContentBinding="{x:Null}" Width="100">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <CheckBox HorizontalAlignment="Center" VerticalAlignment="Center" IsChecked="{Binding IsChecked}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn ClipboardContentBinding="{x:Null}" Width="*" Header="标题">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="{Binding Title}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTemplateColumn ClipboardContentBinding="{x:Null}" Width="*" Header="时间">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="{Binding Time}"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Orientation="Horizontal">
                            <Button Name="btnSelectAllNotices" Margin="5" Content="全选" VerticalAlignment="Center" Visibility="Collapsed" Width="100" Click="btnSelectAllNotices_Click"/>
                            <Button Name="btnclearAllNotices" Margin="5" Content="全取消" VerticalAlignment="Center" Visibility="Collapsed" Width="100" Click="btnclearAllNotices_Click"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1" Orientation="Horizontal"  FlowDirection="RightToLeft">
                            <Button Name="btnDeleteNotices" Margin="5" Content="删除通知" VerticalAlignment="Center" Width="100" Click="btnDeleteNotices_Click"/>
                            <Button Name="btnCreateNotices" Margin="5" Content="新建通知" VerticalAlignment="Center" Width="100" Click="btnCreateNotices_Click"/>
                        </StackPanel>
                    </Grid>
                </Grid>
            </TabItem>

        </TabControl>
    </Grid>
</Window>
